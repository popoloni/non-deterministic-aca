# Verification Loop Prompt

Implement a function to process user payments.

After writing it:
1. Identify 3 potential bugs or edge cases in your code
2. Identify any security vulnerabilities
3. Rewrite the function to fix those issues

Only output the final, corrected version.
